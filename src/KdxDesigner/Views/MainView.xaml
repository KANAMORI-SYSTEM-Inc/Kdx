<Window x:Class="KdxDesigner.Views.MainView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:vm="clr-namespace:KdxDesigner.ViewModels"
        xmlns:utils="clr-namespace:KdxDesigner.Utils"
        xmlns:controls="clr-namespace:KdxDesigner.Controls"
        mc:Ignorable="d"
        Title="KDX Designer - ãƒ©ãƒ€ãƒ¼ãƒ—ãƒ­ã‚°ãƒ©ãƒ è‡ªå‹•ç”Ÿæˆã‚·ã‚¹ãƒ†ãƒ " Height="1000" Width="1920"
        WindowStartupLocation="CenterScreen">

    <DockPanel>
        <Menu DockPanel.Dock="Top">
            <MenuItem Header="_ãƒ•ã‚¡ã‚¤ãƒ«">
                <MenuItem Header="è¨­å®šã‚’é–‹ã" Command="{Binding OpenSettingsCommand}" />
                <Separator />
                <MenuItem Header="çµ‚äº†" Command="{Binding ExitCommand}" />
            </MenuItem>
            <MenuItem Header="_ãƒ„ãƒ¼ãƒ«">
                <MenuItem Header="IOãƒ†ãƒ¼ãƒ–ãƒ«ç®¡ç†" Command="{Binding OpenIoEditorCommand}" />
                <MenuItem Header="IOå‰²ä»˜è¡¨å¤‰æ›" Command="{Binding OpenIOConversionWindowCommand}" />
                <MenuItem Header="ãƒªãƒ³ã‚¯ãƒ‡ãƒã‚¤ã‚¹ç®¡ç†" Command="{Binding OpenLinkDeviceManagerCommand}" />
                <MenuItem Header="ã‚¿ã‚¤ãƒžãƒ¼è¨­å®š" Command="{Binding OpenTimerEditorCommand}" />
                <MenuItem Header="ãƒ¡ãƒ¢ãƒªãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒ«ç®¡ç†" Command="{Binding OpenMemoryProfileManagerCommand}" />
                <MenuItem Header="æ“ä½œç›¤é¸æŠž" Command="{Binding OpenControllBoxViewCommand}" />
                <MenuItem Header="ã‚·ãƒªãƒ³ãƒ€ãƒ¼ç®¡ç†" Command="{Binding OpenCylinderManagementCommand}" />
                <Separator/>
                <MenuItem Header="å·¥ç¨‹ãƒ•ãƒ­ãƒ¼è©³ç´°" Command="{Binding OpenProcessFlowDetailCommand}" />
                <MenuItem Header="å…¨ã¦ã®å·¥ç¨‹ãƒ•ãƒ­ãƒ¼è©³ç´°ã‚’é–‰ã˜ã‚‹" Command="{Binding CloseAllProcessFlowWindowsCommand}" />
                <Separator/>
            </MenuItem>
        </Menu>

        <Grid Margin="10">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto" />
                <RowDefinition Height="*" />
            </Grid.RowDefinitions>

            <GroupBox Header="ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆé¸æŠž" Grid.Row="0" Margin="0,0,0,5" Padding="5">
                <Grid Margin="2" ShowGridLines="True">
                    <Grid.RowDefinitions>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <StackPanel Grid.Row="0" Grid.Column="0" Orientation="Vertical">
                        <StackPanel HorizontalAlignment="Left">
                            <TextBlock VerticalAlignment="Center" FontWeight="Bold"><Run Text="Compan"/><Run Language="ja-jp" Text="y"/></TextBlock>
                            <ComboBox ItemsSource="{Binding Companies}" SelectedItem="{Binding SelectedCompany}" DisplayMemberPath="CompanyName" Width="200" Margin="0,5,0,0"/>
                        </StackPanel>

                        <StackPanel HorizontalAlignment="Left">
                            <TextBlock Text="Model" VerticalAlignment="Center" FontWeight="Bold" Margin="0,5,0,0"/>
                            <ComboBox ItemsSource="{Binding Models}" SelectedItem="{Binding SelectedModel}" DisplayMemberPath="ModelName" Width="200" Margin="0,5,0,0"/>
                        </StackPanel>

                        <StackPanel HorizontalAlignment="Left">
                            <TextBlock Text="PLC" VerticalAlignment="Center" FontWeight="Bold" Margin="0,5,0,0"/>
                            <ComboBox ItemsSource="{Binding Plcs}" SelectedItem="{Binding SelectedPlc}" DisplayMemberPath="PlcName" Width="200" Margin="0,5,0,0"/>
                        </StackPanel>

                        <StackPanel HorizontalAlignment="Left">
                            <TextBlock Text="Cycle" VerticalAlignment="Center" FontWeight="Bold" Margin="0,5,0,0"/>
                            <ComboBox ItemsSource="{Binding Cycles}" SelectedItem="{Binding SelectedCycle}" DisplayMemberPath="CycleName" Width="200" Margin="0,0,0,0"/>
                        </StackPanel>

                    </StackPanel>

                    <StackPanel Grid.Row="0" Grid.Column="1" HorizontalAlignment="Left" Orientation="Vertical" Margin="15,20,0,0" Grid.RowSpan="2">
                        <Button Content="ãƒ¡ãƒ¢ãƒªç·¨é›†" Command="{Binding OpenMemoryEditorCommand}" Width="100"/>
                        <Button Content="ãƒ¡ãƒ¢ãƒªè¨­å®š" Command="{Binding MemorySettingCommand}" Width="100" VerticalAlignment="Center" Margin="0,10,0,0">
                            <Button.Style>
                                <Style TargetType="{x:Type Button}">
                                    <Style.Triggers>
                                        <DataTrigger Binding="{Binding IsMemoryConfigured}" Value="True">
                                            <Setter Property="Background" Value="#90EE90"/>
                                        </DataTrigger>
                                    </Style.Triggers>
                                </Style>
                            </Button.Style>
                        </Button>
                        <Button Content="å·¥ç¨‹å‡ºåŠ›" Command="{Binding ProcessOutputCommand}"  Width="100" VerticalAlignment="Center" Margin="0,10,0,0" IsEnabled="{Binding IsMemoryConfigured}"/>
                        <Button Content="å·¥ç¨‹ãƒ•ãƒ­ãƒ¼è©³ç´°" Command="{Binding OpenProcessFlowDetailCommand}"  Width="100" VerticalAlignment="Center" Margin="0,10,0,0"/>
                        <Button Content="ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ­ãƒƒã‚¯è¨­å®š" Command="{Binding OpenInterlockSettingsCommand}"  Width="100" VerticalAlignment="Center" Margin="0,10,0,0"/>
                        <CheckBox Content="ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰" IsChecked="{Binding IsDebug, Mode=TwoWay}" Margin="0,10,0,0" VerticalAlignment="Center" HorizontalAlignment="Left"/>
                    </StackPanel>
                </Grid>
            </GroupBox>

            <GroupBox Header="å·¥ç¨‹ä¸€è¦§" Grid.Row="1">
                <DockPanel>
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>

                        <!-- è¿½åŠ ãƒœã‚¿ãƒ³ãƒ˜ãƒƒãƒ€ãƒ¼ -->
                        <StackPanel Grid.Row="0" Grid.Column="0" Orientation="Horizontal" Margin="5,0,5,5">
                            <Button Content="ðŸ—” ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦è¡¨ç¤º" Command="{Binding OpenProcessListWindowCommand}"
                                    Width="120" Height="25" Margin="0,0,5,0"
                                    Background="#FF9800" Foreground="White" FontWeight="Bold"/>
                        </StackPanel>

                        <StackPanel Grid.Row="0" Grid.Column="1" Orientation="Horizontal" Margin="5,0,5,5">
                            <Button Content="ðŸ—” ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦è¡¨ç¤º" Command="{Binding OpenProcessDetailListWindowCommand}"
                                    Width="120" Height="25" Margin="0,0,5,0"
                                    Background="#FF9800" Foreground="White" FontWeight="Bold"/>
                        </StackPanel>

                        <StackPanel Grid.Row="0" Grid.Column="2" Orientation="Horizontal" Margin="5,0,5,5">
                            <Button Content="ðŸ—” ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦è¡¨ç¤º" Command="{Binding OpenOperationListWindowCommand}"
                                    Width="120" Height="25" Margin="0,0,5,0"
                                    Background="#FF9800" Foreground="White" FontWeight="Bold"/>
                        </StackPanel>

                        <!-- å·¥ç¨‹ä¸€è¦§ï¼ˆå…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰ -->
                        <controls:ProcessListControl Grid.Row="1" Grid.Column="0" Margin="5"
                            x:Name="ProcessListControl"
                            Repository="{Binding Repository}"
                            Processes="{Binding Processes, Mode=TwoWay}"
                            SelectedProcess="{Binding SelectedProcess, Mode=TwoWay}"
                            ProcessCategories="{Binding ProcessCategories}"
                            CycleId="{Binding SelectedCycle.Id}"
                            PlcId="{Binding SelectedPlc.Id}"
                            ProcessSelectionChanged="ProcessListControl_ProcessSelectionChanged"
                            OpenProcessFlowDetailRequested="ProcessListControl_OpenProcessFlowDetailRequested"/>

                        <!-- å·¥ç¨‹è©³ç´°ä¸€è¦§ï¼ˆå…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰ -->
                        <controls:ProcessDetailListControl Grid.Row="1" Grid.Column="1" Margin="5"
                            x:Name="ProcessDetailListControl"
                            Repository="{Binding Repository}"
                            ProcessDetails="{Binding ProcessDetails, Mode=TwoWay}"
                            SelectedProcessDetail="{Binding SelectedProcessDetail, Mode=TwoWay}"
                            Operations="{Binding SelectedOperations}"
                            ProcessDetailCategories="{Binding ProcessDetailCategories}"
                            ProcessId="{Binding SelectedProcess.Id}"
                            CycleId="{Binding SelectedCycle.Id}"
                            ProcessDetailSelectionChanged="ProcessDetailListControl_SelectionChanged"/>

                        <!-- æ“ä½œä¸€è¦§ï¼ˆå…±é€šã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆï¼‰ -->
                        <controls:OperationListControl Grid.Row="1" Grid.Column="2" Margin="5"
                            x:Name="OperationListControl"
                            Repository="{Binding Repository}"
                            Operations="{Binding SelectedOperations, Mode=TwoWay}"
                            SelectedOperation="{Binding SelectedOperation, Mode=TwoWay}"
                            OperationCategories="{Binding OperationCategories}"
                            CycleId="{Binding SelectedCycle.Id}"
                            PlcId="{Binding SelectedPlc.Id}"/>
                    </Grid>
                </DockPanel>
            </GroupBox>
        </Grid>
    </DockPanel>
</Window>
